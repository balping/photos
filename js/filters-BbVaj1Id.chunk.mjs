import{g as Rt}from"./index-CcnNVXIP.chunk.mjs";import{a2 as pt,a3 as A,g as tt,a4 as Nt,a5 as U,a6 as dt,a7 as G,a8 as ft,w as ht,J as Mt,e as _t,t as Q,B as Bt,a9 as Jt,aa as Ht,ab as Gt,v as R,d as gt,a as N}from"./vue.runtime.esm-zA5QjVAQ.chunk.mjs";import{d as Qt}from"./index-DG85lXCz.chunk.mjs";import{a6 as zt,m as yt,l as qt}from"./index-CSC-o6Za.chunk.mjs";import{e as Wt,t as Yt,n as mt,P as Kt,u as Xt}from"./icons-CuFSQtXO.chunk.mjs";import{f as rt}from"./PhotosFiltersInput-CxvOMxW_.chunk.mjs";function Zt(){return bt().__VUE_DEVTOOLS_GLOBAL_HOOK__}function bt(){return typeof navigator<"u"&&typeof window<"u"?window:typeof globalThis<"u"?globalThis:{}}const te=typeof Proxy=="function",ee="devtools-plugin:setup",oe="plugin:settings:set";let L,K;function ne(){var t;return L!==void 0||(typeof window<"u"&&window.performance?(L=!0,K=window.performance):typeof globalThis<"u"&&!((t=globalThis.perf_hooks)===null||t===void 0)&&t.performance?(L=!0,K=globalThis.perf_hooks.performance):L=!1),L}function se(){return ne()?K.now():Date.now()}class ae{constructor(e,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=n;const o={};if(e.settings)for(const r in e.settings){const a=e.settings[r];o[r]=a.defaultValue}const s=`__vue-devtools-plugin-settings__${e.id}`;let i=Object.assign({},o);try{const r=localStorage.getItem(s),a=JSON.parse(r);Object.assign(i,a)}catch{}this.fallbacks={getSettings(){return i},setSettings(r){try{localStorage.setItem(s,JSON.stringify(r))}catch{}i=r},now(){return se()}},n&&n.on(oe,(r,a)=>{r===this.plugin.id&&this.fallbacks.setSettings(a)}),this.proxiedOn=new Proxy({},{get:(r,a)=>this.target?this.target.on[a]:(...c)=>{this.onQueue.push({method:a,args:c})}}),this.proxiedTarget=new Proxy({},{get:(r,a)=>this.target?this.target[a]:a==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(a)?(...c)=>(this.targetQueue.push({method:a,args:c,resolve:()=>{}}),this.fallbacks[a](...c)):(...c)=>new Promise(p=>{this.targetQueue.push({method:a,args:c,resolve:p})})})}async setRealTarget(e){this.target=e;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function vt(t,e){const n=t,o=bt(),s=Zt(),i=te&&n.enableEarlyProxy;if(s&&(o.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!i))s.emit(ee,t,e);else{const r=i?new ae(n,s):null;(o.__VUE_DEVTOOLS_PLUGINS__=o.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:e,proxy:r}),r&&e(r.proxiedTarget)}}let Ot;const C=t=>Ot=t,St=Symbol();function X(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var v;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(v||(v={}));const P=typeof window<"u",it=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof R=="object"&&R.global===R?R:typeof globalThis=="object"?globalThis:{HTMLElement:null};function re(t,{autoBom:e=!1}={}){return e&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\uFEFF",t],{type:t.type}):t}function et(t,e,n){const o=new XMLHttpRequest;o.open("GET",t),o.responseType="blob",o.onload=function(){$t(o.response,e,n)},o.onerror=function(){console.error("could not download file")},o.send()}function wt(t){const e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function M(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{const e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}const B=typeof navigator=="object"?navigator:{userAgent:""},Et=/Macintosh/.test(B.userAgent)&&/AppleWebKit/.test(B.userAgent)&&!/Safari/.test(B.userAgent),$t=P?typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype&&!Et?ie:"msSaveOrOpenBlob"in B?ce:le:()=>{};function ie(t,e="download",n){const o=document.createElement("a");o.download=e,o.rel="noopener",typeof t=="string"?(o.href=t,o.origin!==location.origin?wt(o.href)?et(t,e,n):(o.target="_blank",M(o)):M(o)):(o.href=URL.createObjectURL(t),setTimeout(function(){URL.revokeObjectURL(o.href)},4e4),setTimeout(function(){M(o)},0))}function ce(t,e="download",n){if(typeof t=="string")if(wt(t))et(t,e,n);else{const o=document.createElement("a");o.href=t,o.target="_blank",setTimeout(function(){M(o)})}else navigator.msSaveOrOpenBlob(re(t,n),e)}function le(t,e,n,o){if(o=o||open("","_blank"),o&&(o.document.title=o.document.body.innerText="downloading..."),typeof t=="string")return et(t,e,n);const s=t.type==="application/octet-stream",i=/constructor/i.test(String(it.HTMLElement))||"safari"in it,r=/CriOS\/[\d]+/.test(navigator.userAgent);if((r||s&&i||Et)&&typeof FileReader<"u"){const a=new FileReader;a.onloadend=function(){let c=a.result;if(typeof c!="string")throw o=null,new Error("Wrong reader.result type");c=r?c:c.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=c:location.assign(c),o=null},a.readAsDataURL(t)}else{const a=URL.createObjectURL(t);o?o.location.assign(a):location.href=a,o=null,setTimeout(function(){URL.revokeObjectURL(a)},4e4)}}function d(t,e){const n="🍍 "+t;typeof __VUE_DEVTOOLS_TOAST__=="function"?__VUE_DEVTOOLS_TOAST__(n,e):e==="error"?console.error(n):e==="warn"?console.warn(n):console.log(n)}function ot(t){return"_a"in t&&"install"in t}function Pt(){if(!("clipboard"in navigator))return d("Your browser doesn't support the Clipboard API","error"),!0}function Ft(t){return t instanceof Error&&t.message.toLowerCase().includes("document is not focused")?(d('You need to activate the "Emulate a focused page" setting in the "Rendering" panel of devtools.',"warn"),!0):!1}async function ue(t){if(!Pt())try{await navigator.clipboard.writeText(JSON.stringify(t.state.value)),d("Global state copied to clipboard.")}catch(e){if(Ft(e))return;d("Failed to serialize the state. Check the console for more details.","error"),console.error(e)}}async function pe(t){if(!Pt())try{Tt(t,JSON.parse(await navigator.clipboard.readText())),d("Global state pasted from clipboard.")}catch(e){if(Ft(e))return;d("Failed to deserialize the state from clipboard. Check the console for more details.","error"),console.error(e)}}async function de(t){try{$t(new Blob([JSON.stringify(t.state.value)],{type:"text/plain;charset=utf-8"}),"pinia-state.json")}catch(e){d("Failed to export the state as JSON. Check the console for more details.","error"),console.error(e)}}let O;function fe(){O||(O=document.createElement("input"),O.type="file",O.accept=".json");function t(){return new Promise((e,n)=>{O.onchange=async()=>{const o=O.files;if(!o)return e(null);const s=o.item(0);return e(s?{text:await s.text(),file:s}:null)},O.oncancel=()=>e(null),O.onerror=n,O.click()})}return t}async function he(t){try{const e=await fe()();if(!e)return;const{text:n,file:o}=e;Tt(t,JSON.parse(n)),d(`Global state imported from "${o.name}".`)}catch(e){d("Failed to import the state from JSON. Check the console for more details.","error"),console.error(e)}}function Tt(t,e){for(const n in e){const o=t.state.value[n];o?Object.assign(o,e[n]):t.state.value[n]=e[n]}}function m(t){return{_custom:{display:t}}}const kt="🍍 Pinia (root)",J="_root";function _e(t){return ot(t)?{id:J,label:kt}:{id:t.$id,label:t.$id}}function ge(t){if(ot(t)){const n=Array.from(t._s.keys()),o=t._s;return{state:n.map(s=>({editable:!0,key:s,value:t.state.value[s]})),getters:n.filter(s=>o.get(s)._getters).map(s=>{const i=o.get(s);return{editable:!1,key:s,value:i._getters.reduce((r,a)=>(r[a]=i[a],r),{})}})}}const e={state:Object.keys(t.$state).map(n=>({editable:!0,key:n,value:t.$state[n]}))};return t._getters&&t._getters.length&&(e.getters=t._getters.map(n=>({editable:!1,key:n,value:t[n]}))),t._customProperties.size&&(e.customProperties=Array.from(t._customProperties).map(n=>({editable:!0,key:n,value:t[n]}))),e}function ye(t){return t?Array.isArray(t)?t.reduce((e,n)=>(e.keys.push(n.key),e.operations.push(n.type),e.oldValue[n.key]=n.oldValue,e.newValue[n.key]=n.newValue,e),{oldValue:{},keys:[],operations:[],newValue:{}}):{operation:m(t.type),key:m(t.key),oldValue:t.oldValue,newValue:t.newValue}:{}}function me(t){switch(t){case v.direct:return"mutation";case v.patchFunction:return"$patch";case v.patchObject:return"$patch";default:return"unknown"}}let I=!0;const H=[],$="pinia:mutations",f="pinia",{assign:be}=Object,z=t=>"🍍 "+t;function ve(t,e){vt({id:"dev.esm.pinia",label:"Pinia 🍍",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:H,app:t},n=>{typeof n.now!="function"&&d("You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."),n.addTimelineLayer({id:$,label:"Pinia 🍍",color:15064968}),n.addInspector({id:f,label:"Pinia 🍍",icon:"storage",treeFilterPlaceholder:"Search stores",actions:[{icon:"content_copy",action:()=>{ue(e)},tooltip:"Serialize and copy the state"},{icon:"content_paste",action:async()=>{await pe(e),n.sendInspectorTree(f),n.sendInspectorState(f)},tooltip:"Replace the state with the content of your clipboard"},{icon:"save",action:()=>{de(e)},tooltip:"Save the state as a JSON file"},{icon:"folder_open",action:async()=>{await he(e),n.sendInspectorTree(f),n.sendInspectorState(f)},tooltip:"Import the state from a JSON file"}],nodeActions:[{icon:"restore",tooltip:'Reset the state (with "$reset")',action:o=>{const s=e._s.get(o);s?typeof s.$reset!="function"?d(`Cannot reset "${o}" store because it doesn't have a "$reset" method implemented.`,"warn"):(s.$reset(),d(`Store "${o}" reset.`)):d(`Cannot reset "${o}" store because it wasn't found.`,"warn")}}]}),n.on.inspectComponent((o,s)=>{const i=o.componentInstance&&o.componentInstance.proxy;if(i&&i._pStores){const r=o.componentInstance.proxy._pStores;Object.values(r).forEach(a=>{o.instanceData.state.push({type:z(a.$id),key:"state",editable:!0,value:a._isOptionsAPI?{_custom:{value:Q(a.$state),actions:[{icon:"restore",tooltip:"Reset the state of this store",action:()=>a.$reset()}]}}:Object.keys(a.$state).reduce((c,p)=>(c[p]=a.$state[p],c),{})}),a._getters&&a._getters.length&&o.instanceData.state.push({type:z(a.$id),key:"getters",editable:!1,value:a._getters.reduce((c,p)=>{try{c[p]=a[p]}catch(g){c[p]=g}return c},{})})})}}),n.on.getInspectorTree(o=>{if(o.app===t&&o.inspectorId===f){let s=[e];s=s.concat(Array.from(e._s.values())),o.rootNodes=(o.filter?s.filter(i=>"$id"in i?i.$id.toLowerCase().includes(o.filter.toLowerCase()):kt.toLowerCase().includes(o.filter.toLowerCase())):s).map(_e)}}),globalThis.$pinia=e,n.on.getInspectorState(o=>{if(o.app===t&&o.inspectorId===f){const s=o.nodeId===J?e:e._s.get(o.nodeId);if(!s)return;s&&(o.nodeId!==J&&(globalThis.$store=Q(s)),o.state=ge(s))}}),n.on.editInspectorState((o,s)=>{if(o.app===t&&o.inspectorId===f){const i=o.nodeId===J?e:e._s.get(o.nodeId);if(!i)return d(`store "${o.nodeId}" not found`,"error");const{path:r}=o;ot(i)?r.unshift("state"):(r.length!==1||!i._customProperties.has(r[0])||r[0]in i.$state)&&r.unshift("$state"),I=!1,o.set(i,r,o.state.value),I=!0}}),n.on.editComponentState(o=>{if(o.type.startsWith("🍍")){const s=o.type.replace(/^🍍\s*/,""),i=e._s.get(s);if(!i)return d(`store "${s}" not found`,"error");const{path:r}=o;if(r[0]!=="state")return d(`Invalid path for store "${s}":
${r}
Only state can be modified.`);r[0]="$state",I=!1,o.set(i,r,o.state.value),I=!0}})})}function Oe(t,e){H.includes(z(e.$id))||H.push(z(e.$id)),vt({id:"dev.esm.pinia",label:"Pinia 🍍",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:H,app:t,settings:{logStoreChanges:{label:"Notify about new/deleted stores",type:"boolean",defaultValue:!0}}},n=>{const o=typeof n.now=="function"?n.now.bind(n):Date.now;e.$onAction(({after:r,onError:a,name:c,args:p})=>{const g=It++;n.addTimelineEvent({layerId:$,event:{time:o(),title:"🛫 "+c,subtitle:"start",data:{store:m(e.$id),action:m(c),args:p},groupId:g}}),r(b=>{w=void 0,n.addTimelineEvent({layerId:$,event:{time:o(),title:"🛬 "+c,subtitle:"end",data:{store:m(e.$id),action:m(c),args:p,result:b},groupId:g}})}),a(b=>{w=void 0,n.addTimelineEvent({layerId:$,event:{time:o(),logType:"error",title:"💥 "+c,subtitle:"end",data:{store:m(e.$id),action:m(c),args:p,error:b},groupId:g}})})},!0),e._customProperties.forEach(r=>{ht(()=>Bt(e[r]),(a,c)=>{n.notifyComponentUpdate(),n.sendInspectorState(f),I&&n.addTimelineEvent({layerId:$,event:{time:o(),title:"Change",subtitle:r,data:{newValue:a,oldValue:c},groupId:w}})},{deep:!0})}),e.$subscribe(({events:r,type:a},c)=>{if(n.notifyComponentUpdate(),n.sendInspectorState(f),!I)return;const p={time:o(),title:me(a),data:be({store:m(e.$id)},ye(r)),groupId:w};a===v.patchFunction?p.subtitle="⤵️":a===v.patchObject?p.subtitle="🧩":r&&!Array.isArray(r)&&(p.subtitle=r.type),r&&(p.data["rawEvent(s)"]={_custom:{display:"DebuggerEvent",type:"object",tooltip:"raw DebuggerEvent[]",value:r}}),n.addTimelineEvent({layerId:$,event:p})},{detached:!0,flush:"sync"});const s=e._hotUpdate;e._hotUpdate=U(r=>{s(r),n.addTimelineEvent({layerId:$,event:{time:o(),title:"🔥 "+e.$id,subtitle:"HMR update",data:{store:m(e.$id),info:m("HMR update")}}}),n.notifyComponentUpdate(),n.sendInspectorTree(f),n.sendInspectorState(f)});const{$dispose:i}=e;e.$dispose=()=>{i(),n.notifyComponentUpdate(),n.sendInspectorTree(f),n.sendInspectorState(f),n.getSettings().logStoreChanges&&d(`Disposed "${e.$id}" store 🗑`)},n.notifyComponentUpdate(),n.sendInspectorTree(f),n.sendInspectorState(f),n.getSettings().logStoreChanges&&d(`"${e.$id}" store installed 🆕`)})}let It=0,w;function ct(t,e,n){const o=e.reduce((s,i)=>(s[i]=Q(t)[i],s),{});for(const s in o)t[s]=function(){const i=It,r=n?new Proxy(t,{get(...c){return w=i,Reflect.get(...c)},set(...c){return w=i,Reflect.set(...c)}}):t;w=i;const a=o[s].apply(r,arguments);return w=void 0,a}}function Se({app:t,store:e,options:n}){if(!e.$id.startsWith("__hot:")){if(e._isOptionsAPI=!!n.state,!e._p._testing){ct(e,Object.keys(n.actions),e._isOptionsAPI);const o=e._hotUpdate;Q(e)._hotUpdate=function(s){o.apply(this,arguments),ct(e,Object.keys(s._hmrPayload.actions),!!e._isOptionsAPI)}}Oe(t,e)}}function He(){const t=dt(!0),e=t.run(()=>tt({}));let n=[];const o=U({install(s){C(o)},use(s){return this._a,n.push(s),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return typeof __VUE_PROD_DEVTOOLS__<"u"&&__VUE_PROD_DEVTOOLS__&&P&&typeof Proxy<"u"&&o.use(Se),o}const jt=()=>{};function lt(t,e,n,o=jt){t.push(e);const s=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),o())};return!n&&Jt()&&Ht(s),s}function k(t,...e){t.slice().forEach(n=>{n(...e)})}const we=t=>t(),ut=Symbol(),Y=Symbol();function Z(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,o)=>t.set(o,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const o=e[n],s=t[n];X(s)&&X(o)&&t.hasOwnProperty(n)&&!G(o)&&!ft(o)?t[n]=Z(s,o):t[n]=o}return t}const Ee=Symbol();function $e(t){return!X(t)||!t.hasOwnProperty(Ee)}const{assign:S}=Object;function Pe(t){return!!(G(t)&&t.effect)}function Fe(t,e,n,o){const{state:s,actions:i,getters:r}=e,a=n.state.value[t];let c;function p(){a||A(n.state.value,t,s?s():{});const g=pt(n.state.value[t]);return S(g,i,Object.keys(r||{}).reduce((b,F)=>(b[F]=U(_t(()=>{C(n);const E=n._s.get(t);if(E._r)return r[F].call(E,E)})),b),{}))}return c=Dt(t,p,e,n,o,!0),c}function Dt(t,e,n={},o,s,i){let r;const a=S({actions:{}},n),c={deep:!0};let p,g,b=[],F=[],E;const T=o.state.value[t];!i&&!T&&A(o.state.value,t,{});const Vt=tt({});let nt;function st(l){let u;p=g=!1,typeof l=="function"?(l(o.state.value[t]),u={type:v.patchFunction,storeId:t,events:E}):(Z(o.state.value[t],l),u={type:v.patchObject,payload:l,storeId:t,events:E});const _=nt=Symbol();Mt().then(()=>{nt===_&&(p=!0)}),g=!0,k(b,u,o.state.value[t])}const Lt=i?function(){const{state:l}=n,u=l?l():{};this.$patch(_=>{S(_,u)})}:jt;function At(){r.stop(),b=[],F=[],o._s.delete(t)}const at=(l,u="")=>{if(ut in l)return l[Y]=u,l;const _=function(){C(o);const x=Array.from(arguments),D=[],W=[];function Ct(y){D.push(y)}function xt(y){W.push(y)}k(F,{args:x,name:_[Y],store:h,after:Ct,onError:xt});let V;try{V=l.apply(this&&this.$id===t?this:h,x)}catch(y){throw k(W,y),y}return V instanceof Promise?V.then(y=>(k(D,y),y)).catch(y=>(k(W,y),Promise.reject(y))):(k(D,V),V)};return _[ut]=!0,_[Y]=u,_},Ut=U({actions:{},getters:{},state:[],hotState:Vt}),q={_p:o,$id:t,$onAction:lt.bind(null,F),$patch:st,$reset:Lt,$subscribe(l,u={}){const _=lt(b,l,u.detached,()=>x()),x=r.run(()=>ht(()=>o.state.value[t],D=>{(u.flush==="sync"?g:p)&&l({storeId:t,type:v.direct,events:E},D)},S({},c,u)));return _},$dispose:At};q._r=!1;const h=Nt(typeof __VUE_PROD_DEVTOOLS__<"u"&&__VUE_PROD_DEVTOOLS__&&P?S({_hmrPayload:Ut,_customProperties:U(new Set)},q):q);o._s.set(t,h);const j=(o._a&&o._a.runWithContext||we)(()=>o._e.run(()=>(r=dt()).run(()=>e({action:at}))));for(const l in j){const u=j[l];if(G(u)&&!Pe(u)||ft(u))i||(T&&$e(u)&&(G(u)?u.value=T[l]:Z(u,T[l])),A(o.state.value[t],l,u));else if(typeof u=="function"){const _=at(u,l);A(j,l,_),a.actions[l]=u}}if(Object.keys(j).forEach(l=>{A(h,l,j[l])}),Object.defineProperty(h,"$state",{get:()=>o.state.value[t],set:l=>{st(u=>{S(u,l)})}}),typeof __VUE_PROD_DEVTOOLS__<"u"&&__VUE_PROD_DEVTOOLS__&&P){const l={writable:!0,configurable:!0,enumerable:!1};["_p","_hmrPayload","_getters","_customProperties"].forEach(u=>{Object.defineProperty(h,u,S({value:h[u]},l))})}return h._r=!0,o._p.forEach(l=>{if(typeof __VUE_PROD_DEVTOOLS__<"u"&&__VUE_PROD_DEVTOOLS__&&P){const u=r.run(()=>l({store:h,app:o._a,pinia:o,options:a}));Object.keys(u||{}).forEach(_=>h._customProperties.add(_)),S(h,u)}else S(h,r.run(()=>l({store:h,app:o._a,pinia:o,options:a})))}),T&&i&&n.hydrate&&n.hydrate(h.$state,T),p=!0,g=!0,h}function Te(t,e,n){let o,s;const i=typeof e=="function";o=t,s=i?n:e;function r(a,c){const p=zt();return a=a||(p?Gt(St,null):null),a&&C(a),a=Ot,a._s.has(o)||(i?Dt(o,e,s,a):Fe(o,s,a)),a._s.get(o)}return r.$id=o,r}function Ge(t){return pt(t)}const Qe=function(t){t.mixin({beforeCreate(){const e=this.$options;if(e.pinia){const n=e.pinia;if(!this._provided){const o={};Object.defineProperty(this,"_provided",{get:()=>o,set:s=>Object.assign(o,s)})}this._provided[St]=n,this.$pinia||(this.$pinia=n),n._a=this,P&&C(n),typeof __VUE_PROD_DEVTOOLS__<"u"&&__VUE_PROD_DEVTOOLS__&&P&&ve(n._a,n)}else!this.$pinia&&e.parent&&e.parent.$pinia&&(this.$pinia=e.parent.$pinia)},destroyed(){delete this._pStores}})},ke=gt({name:"PhotosFolder",components:{NcButton:yt,FolderOutline:Yt,Close:Wt},props:{path:{type:String,required:!0},canDelete:{type:Boolean,default:!1},rootFolderLabel:{type:String,required:!0},rootFolderIcon:{type:Object,required:!0}},emits:["remove-folder"],computed:{folderName(){return this.path==="/"?this.rootFolderLabel:this.path.split("/").pop()},subname(){switch((this.path.match(/\//g)??[]).length){case 1:return"";case 2:return this.path.split("/").splice(0,2).join("/");default:return this.path.split("/").splice(0,3).join("/")}}},methods:{emitRemoveSourceFolder(){this.$emit("remove-folder")},t:N}});var Ie=function(){var t=this,e=t._self._c;return t._self._setupProxy,e("div",{staticClass:"folder"},[t.path==="/"?e(t.rootFolderIcon,{tag:"component"}):e("FolderOutline"),e("span",{staticClass:"folder__info"},[e("div",{staticClass:"folder__path"},[t._v(t._s(t.folderName))]),t.subname!==""?e("div",[t._v(" "+t._s(t.subname)+" ")]):t._e()]),t.canDelete?e("NcButton",{attrs:{variant:"tertiary","aria-label":t.t("photos","Delete source directory")},on:{click:t.emitRemoveSourceFolder},scopedSlots:t._u([{key:"icon",fn:function(){return[e("Close",{attrs:{size:20}})]},proxy:!0}],null,!1,2121748766)}):t._e()],1)},je=[],De=mt(ke,Ie,je,!1,null,"74f30535");const Ve=De.exports,Le=gt({name:"PhotosSourceLocationsSettings",components:{NcButton:yt,PhotosFolder:Ve,Plus:Kt},data(){return{FolderMultipleOutline:Xt}},computed:{photosSourceFolders(){return this.$store.state.userConfig.photosSourceFolders}},methods:{debounceAddSourceFolder:Qt(function(...t){this.addSourceFolder(...t)},200,{immediate:!1}),async openFilePicker(t){return Rt(t).setMultiSelect(!1).addMimeTypeFilter("httpd/unix-directory").allowDirectories().addButton({label:N("photos","Pick folder"),callback:e=>qt.debug("Picked",{nodes:e})}).build().pick()},async addSourceFolder(){const t=await this.openFilePicker(N("photos","Select a source folder for your media"));this.photosSourceFolders.includes(t)||this.$store.dispatch("updateUserConfig",{key:"photosSourceFolders",value:[...this.photosSourceFolders,t]})},removeSourceFolder(t){const e=[...this.photosSourceFolders];e.splice(t,1),this.$store.dispatch("updateUserConfig",{key:"photosSourceFolders",value:e})},t:N}});var Ae=function(){var t=this,e=t._self._c;return t._self._setupProxy,e("div",{staticClass:"photos-locations-container"},[e("div",{staticClass:"photos-locations"},t._l(t.photosSourceFolders,function(n,o){return e("li",{key:o},[e("PhotosFolder",{attrs:{path:n,"can-delete":t.photosSourceFolders.length!==1,"root-folder-label":t.t("photos","All folders"),"root-folder-icon":t.FolderMultipleOutline},on:{"remove-folder":function(s){return t.removeSourceFolder(o)}}})],1)}),0),e("NcButton",{attrs:{"aria-label":t.t("photos","Add a Photos source for the timelines")},on:{click:t.debounceAddSourceFolder},scopedSlots:t._u([{key:"icon",fn:function(){return[e("Plus",{attrs:{size:20}})]},proxy:!0}])},[t._v(" "+t._s(t.t("photos","Add folder"))+" ")])],1)},Ue=[],Ce=mt(Le,Ae,Ue,!1,null,"1021a57e");const ze=Ce.exports,qe=Te("filters",()=>{const t=tt(rt.reduce((n,o)=>({...n,[o.id]:[]}),{})),e=_t(()=>Object.entries(t.value).filter(([,n])=>n.length>0).map(([n,o])=>rt.find(s=>s.id===n)?.getQuery(o)).join(`
`));return{selectedFilters:t,filtersQuery:e}});export{ze as P,Ve as a,Qe as b,He as c,Ge as s,qe as u};
//# sourceMappingURL=filters-BbVaj1Id.chunk.mjs.map
