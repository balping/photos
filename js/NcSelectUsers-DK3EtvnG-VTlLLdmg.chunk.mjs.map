{"version":3,"file":"NcSelectUsers-DK3EtvnG-VTlLLdmg.chunk.mjs","sources":["../node_modules/@nextcloud/vue/dist/chunks/NcSelectUsers-DK3EtvnG.mjs"],"sourcesContent":["import '../assets/NcSelectUsers-BOwQNNMf.css';\nimport { ref, watch } from \"vue\";\nimport { r as register, j as t43, g as t15, a as t } from \"./_l10n-CW0YfIWk.mjs\";\nimport { G as GenRandomId } from \"./GenRandomId-CMooMQt0.mjs\";\nimport { N as NcListItemIcon } from \"./NcListItemIcon-CZrilo88.mjs\";\nimport { N as NcSelect } from \"./NcSelect-okD5YTJq.mjs\";\nimport { n as normalizeComponent } from \"./_plugin-vue2_normalizer-DU4iP6Vu.mjs\";\nregister(t15, t43);\nconst __default__ = {\n  model: {\n    prop: \"modelValue\",\n    event: \"update:modelValue\"\n  }\n};\nconst _sfc_main = /* @__PURE__ */ Object.assign(__default__, {\n  __name: \"NcSelectUsers\",\n  props: {\n    /**\n     * `aria-label` for the clear input button\n     */\n    ariaLabelClearSelected: {\n      type: String,\n      default: t(\"Clear selected\")\n    },\n    /**\n     * `aria-label` for the listbox element\n     */\n    ariaLabelListbox: {\n      type: String,\n      default: t(\"Options\")\n    },\n    /**\n     * Allows to customize the `aria-label` for the deselect-option button\n     * The default is \"Deselect \" + optionLabel\n     * @type {(optionLabel: string) => string}\n     */\n    ariaLabelDeselectOption: {\n      type: Function,\n      default: (optionLabel) => t(\"Deselect {option}\", { option: optionLabel })\n    },\n    /**\n     * Keep the dropdown open after selecting an entry.\n     */\n    keepOpen: {\n      type: Boolean,\n      default: false\n    },\n    /**\n     * Disable the component\n     */\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    /**\n     * Callback to determine if the provided option should match the current search text.\n     * Used to determine if the option should be displayed.\n     *\n     * By default it filters by the `displayName` and `subname` properties of the user\n     * option object unless this prop is set explicitly\n     */\n    filterBy: {\n      type: Function,\n      default: null\n    },\n    /**\n     * Input element id\n     */\n    inputId: {\n      type: String,\n      default: () => GenRandomId()\n    },\n    /**\n     * Visible label for the input element\n     *\n     * @default 'Select account'\n     */\n    inputLabel: {\n      type: String,\n      default: t(\"Select account\")\n    },\n    /**\n     * Pass true if you are using an external label.\n     * In this case make sure you set the `for` attribute of your `<label>` to the `inputId` of this component.\n     */\n    labelOutside: {\n      type: Boolean,\n      default: false\n    },\n    /**\n     * Show a loading icon.\n     *\n     * @default false\n     */\n    loading: {\n      type: Boolean,\n      default: false\n    },\n    /**\n     * Allow selection of multiple options\n     *\n     * @default false\n     */\n    multiple: {\n      type: Boolean,\n      default: false\n    },\n    /**\n     * Disable automatic wrapping when selected options overflow the width.\n     *\n     * @default false\n     */\n    noWrap: {\n      type: Boolean,\n      default: false\n    },\n    /**\n     * Array of users.\n     *\n     * @type {{displayName: string, user: string, subname?: string, iconSvg?: string, iconName?: string, isGuest?: boolean, isNoUser?: boolean}[]}\n     */\n    options: {\n      type: Array,\n      default: () => []\n    },\n    /**\n     * Placeholder text.\n     */\n    placeholder: {\n      type: String,\n      default: \"\"\n    },\n    /**\n     * Enable if a value is required for native form validation\n     */\n    required: {\n      type: Boolean,\n      default: false\n    },\n    /**\n     * Currently selected value\n     *\n     * The `v-model` directive may be used for two-way data binding\n     */\n    modelValue: {\n      type: Object,\n      default: null\n    }\n  },\n  emits: [\"search\", \"update:modelValue\"],\n  setup(__props, { emit }) {\n    const props = __props;\n    const search = ref(\"\");\n    watch(search, () => {\n      emit(\"search\", search.value);\n    });\n    const clickableArea = Number.parseInt(window.getComputedStyle(document.body).getPropertyValue(\"--default-clickable-area\"));\n    const gridBaseLine = Number.parseInt(window.getComputedStyle(document.body).getPropertyValue(\"--default-grid-baseline\"));\n    const avatarSize = clickableArea - 2 * gridBaseLine;\n    function localFilterBy(option, label, search2) {\n      if (props.filterBy) {\n        return props.filterBy;\n      }\n      const EMAIL_NOTATION = /[^<]*<([^>]+)/;\n      const match = search2.match(EMAIL_NOTATION);\n      const subname = option.subname?.toLocaleLowerCase() ?? \"\";\n      return match && subname.indexOf(match[1].toLocaleLowerCase()) > -1 || `${label} ${option.subname}`.toLocaleLowerCase().indexOf(search2.toLocaleLowerCase()) > -1;\n    }\n    return { __sfc: true, props, emit, search, clickableArea, gridBaseLine, avatarSize, localFilterBy, NcListItemIcon, NcSelect };\n  }\n});\nvar _sfc_render = function render() {\n  var _vm = this, _c = _vm._self._c, _setup = _vm._self._setupProxy;\n  return _c(_setup.NcSelect, _vm._b({ staticClass: \"nc-select-users\", attrs: { \"filter-by\": _setup.localFilterBy, \"label\": \"displayName\" }, on: { \"search\": function($event) {\n    _setup.search = $event;\n  }, \"update:model-value\": function($event) {\n    return _vm.$emit(\"update:modelValue\", $event);\n  } }, scopedSlots: _vm._u([{ key: \"option\", fn: function(option) {\n    return [_c(_setup.NcListItemIcon, _vm._b({ attrs: { \"avatar-size\": 32, \"name\": option.displayName, \"search\": _setup.search } }, \"NcListItemIcon\", option, false))];\n  } }, { key: \"selected-option\", fn: function(selectedOption) {\n    return [_c(_setup.NcListItemIcon, _vm._b({ attrs: { \"avatar-size\": _setup.avatarSize, \"name\": selectedOption.displayName, \"no-margin\": \"\", \"search\": _setup.search } }, \"NcListItemIcon\", selectedOption, false))];\n  } }]) }, \"NcSelect\", _vm.$props, false));\n};\nvar _sfc_staticRenderFns = [];\nvar __component__ = /* @__PURE__ */ normalizeComponent(\n  _sfc_main,\n  _sfc_render,\n  _sfc_staticRenderFns,\n  false,\n  null,\n  \"09b0d8bb\"\n);\nconst NcSelectUsers = __component__.exports;\nexport {\n  NcSelectUsers as N\n};\n//# sourceMappingURL=NcSelectUsers-DK3EtvnG.mjs.map\n"],"names":["register","t15","t43","__default__","_sfc_main","t","optionLabel","GenRandomId","__props","emit","props","search","ref","watch","clickableArea","gridBaseLine","avatarSize","localFilterBy","option","label","search2","EMAIL_NOTATION","match","subname","NcListItemIcon","NcSelect","_sfc_render","_vm","_c","_setup","$event","selectedOption","_sfc_staticRenderFns","__component__","normalizeComponent","NcSelectUsers"],"mappings":"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","x_google_ignoreList":[0]}